<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[MacOS快速搭建Nginx+PHP+MySql+Redis开发环境教程]]></title>
    <url>%2F2019%2F03%2F27%2FMacOS%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BANginx-PHP-MySql-Redis%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[第一步，安装HomebrewMac系统下有一个安装软件的神器，Homebrew。安装brew只需一个命令即可安装，如下：1/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot; Mac小白可能会问，请问在哪里运行这个命令？ 答：同时按下 command+space(空格) 打开聚焦搜索（英文名字Spotlight），然后在搜索框输入终端，就可以找到啦。如下图： brew有以下常用命令： 搜索软件1brew search nginx 安装软件1brew install nginx 卸载软件1brew uninstall nginx 查看已安装的软件列表1brew list 查看软件信息1brew info nginx 相关资料：brew官网 第二步，安装Nginx1brew install nginx 安装完成后启动nginx1sudo brew services start nginx 这一步会让输入密码，输入密码回车后即可访问http://localhost:8080查看效果 停止nginx命令1sudo brew services stop nginx 重启nginx命令1sudo brew services stop nginx 第三步，安装PHP7.2安装命令1brew install php@7.2 第三步，安装MySql5.71brew install mysql@5.7 第四步，安装Redis1brew install redis 第五步，安装PHP Redis扩展1pecl install redis]]></content>
      <categories>
        <category>PHP</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>Nginx</tag>
        <tag>MySql</tag>
        <tag>Redis</tag>
        <tag>开发环境</tag>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CentOS系统配置Nginx+PHP负载均衡]]></title>
    <url>%2F2019%2F03%2F23%2FCentOS%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AENginx-PHP%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%2F</url>
    <content type="text"><![CDATA[本教程采用1台转发服务器和2台应用服务器（硬件配置相同）作为示例，系统均为CentOS7.4，网址为https://blog.yufuping.com，转发服务器为443端口，内网转发到应用服务器的80端口。本教程采用权重策略，其他策略可参考网络资料。 第一步，安装转发Nginx安装gcc1yum install gcc gcc-c++ 安装pcre1yum install -y pcre pcre-devel 安装zlib1yum install -y zlib zlib-devel 安装openssl1yum install -y openssl openssl-devel 下载1wget https://nginx.org/download/nginx-1.15.3.tar.gz 解压1tar -zxvf nginx-1.15.3.tar.gz 进入目录1cd nginx-1.15.3 编译nginx 1./configure --prefix=/usr/local/nginx --with-http_stub_status_module --with-http_gzip_static_module --with-http_ssl_module --with-stream 这里的--with-stream stream模块是为了配置负载均衡转发，应用服务器安装nginx可以不加。 安装nginx1make &amp;&amp; make install 第二步，配置转发Nginx在nginx.conf中http内配置upstream，此处以blog.yupoxiong.com域名为示例。1234upstream blog.yupoxiong.com &#123; server 172.20.20.2:80 weight=1; #第一个服务器 server 172.20.20.3:80 weight=1; #第二个服务器 &#125; weight为权重，如果机器配置不均衡，可以调整weight参数。例如第2台机器的配置为第1台机器的2倍，那就可以把第2台的weight改成2。 server内配置12345678910111213141516server &#123; listen 443 ssl; server_name blog.yupoxiong.com; ssl_certificate cert/blog.yupoxiong.crt; ssl_certificate_key cert/blog.yupoxiong.key; ssl_session_cache shared:SSL:1m; ssl_session_timeout 5m; ssl_ciphers HIGH:!aNULL:!MD5; ssl_prefer_server_ciphers on; location / &#123; proxy_pass http://blog.yupoxiong.com; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; &#125; 第三步，正常安装配置应用服务器Nginx和PHP即可应用服务器nginx可以和转发服务器使用相同的命令，然后正常配置nginx.conf即可，以下为PHP的安装教程。 安装php依赖1yum install -y gcc gcc-c++ make zlib zlib-devel pcre pcre-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel curl curl-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers 下载php7.2 1http://cn2.php.net/get/php-7.2.10.tar.gz/from/this/mirror 解压1tar -zxvf mirror 进入目录1cd mirror 编译php1./configure --prefix=/usr/local/php --with-config-file-path=/usr/local/php --with-openssl --enable-mbstring --enable-ftp --with-gd --with-jpeg-dir=/usr --with-png-dir=/usr --with-mysql=mysqlnd --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --with-pear --enable-sockets --with-freetype-dir=/usr --with-zlib --with-libxml-dir=/usr --with-xmlrpc --enable-zip --enable-fpm --enable-xml --enable-sockets --with-gd --with-zlib --with-iconv --enable-zip --with-freetype-dir=/usr/lib/ --enable-soap --enable-pcntl --enable-cli --with-curl --enable-bcmath 安装1make &amp;&amp; make install 配置文件1cp php.ini-production /usr/local/php/php.ini php.ini开启错误显示1display_errors = On 复制启动脚本：1234$ cp ./sapi/fpm/init.d.php-fpm /etc/init.d/php-fpm$ chmod +x /etc/init.d/php-fpm 修改php-fpm配置文件：12345$ cd /usr/local/php/etc$ cp php-fpm.conf.default php-fpm.conf$ vim php-fpm.conf 去掉 pid = run/php-fpm.pid 前面的分号12345$ cd php-fpm.d$ cp www.conf.default www.conf$ vim www.conf 修改user和group的用户为当前用户(也可以不改，默认会添加nobody这个用户和用户组) 【启动PHP】1234567$ /etc/init.d/php-fpm start #php-fpm启动命令$ /etc/init.d/php-fpm stop #php-fpm停止命令$ /etc/init.d/php-fpm restart #php-fpm重启命令$ ps -ef | grep php 或者 ps -A | grep -i php #查看是否已经成功启动PHP]]></content>
      <categories>
        <category>运维</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>Nginx</tag>
        <tag>CentOS</tag>
        <tag>负载均衡</tag>
        <tag>环境</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[新手快速使用Github进行项目开发]]></title>
    <url>%2F2019%2F03%2F16%2F%E6%96%B0%E6%89%8B%E5%BF%AB%E9%80%9F%E4%BD%BF%E7%94%A8Github%E8%BF%9B%E8%A1%8C%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%2F</url>
    <content type="text"><![CDATA[前言刚进入公司的时候，大家都在用SVN进行协作开发，我什么也不会，所以跟随公司主流，学习了Windows下TortoiseSVN（小乌龟）的使用。当然，项目上只用到了几个右键菜单操作，刚更新，提交，还有clean up。当时感觉SVN很神奇，问了一下朋友他们公司是不是也用这个协作开发。意料之外，朋友跟我讲了git，说现在SVN大都是一些老的公司才会用，我不禁一身冷汗，刚入门就要被淘汰的节奏啊。于是在朋友的帮助下开始摸索git。中间曲折以后再进行赘述，先开始正题。 首先要了解一些git的基本概念和命令，例如分支，合并，标签，git add .，git commit -m &quot;xxx&quot;，git push等等。基本概念和命令了解之后，我们就可以利用git进行项目开发了，GitHub和GitLab开发流程类似，在此以GitHub作为例子进行项目开发演示。 第一步，创建项目首先点击右上角的加号，在弹出菜单点击 New repository ，在打开的页面输入项目名称，然后点击 Create repository 即可。如下图： 第二步，clone项目然后在本地使用git clone命令把项目clone到本地。如下图：命令：1git clone https://github.com/yupoxiong/test-project.git 第三步，创建并切换到 develop 分支默认我们是在mater主分支上，原则上该分支代码和线上代码保持一致，我们需要在develop分支进行开发工作，当develop分支开发完成后再进行合并。现在，我们创建一个develop分支。如下图：命令：1git checkout -b develop 上面的命令可拆为git branch develop和git checkout develop两条命令。 第四步，提交develop分支上的更改此步骤常规commit并push到GitHub，然后我们在GitHub的develop分支就可以看到比master分支多出一个one.html文件。命令：123git add .git commit -m &quot;develop分支第一次提交&quot;git push origin develop 第五步，合并分支先切换到主分支，然后执行合并命令，然后push到GitHub。如下图：命令：123git checkout mastergit merge --no-ff develop -m &quot;合并develop分支&quot;git push 关于--no-ff参数，表示快进式合并，直接将master分支指向develop分支。 第六步，把你的开发伙伴加进来在项目主页点击 Settings 按钮，然后点击左侧的Collaborators，然后搜索你要添加的人，点击右侧的 Add collaborator等待对方确认就可以了。 其他注意事项commit规范参考：Angular.js提交规则 commit相关工具：commitizen]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Github</tag>
        <tag>git</tag>
        <tag>项目开发</tag>
        <tag>开发流程</tag>
        <tag>版本控制</tag>
        <tag>git分支</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[那些令人尴尬的BUG]]></title>
    <url>%2F2019%2F03%2F08%2F%E9%82%A3%E4%BA%9B%E4%BB%A4%E4%BA%BA%E5%B0%B4%E5%B0%AC%E7%9A%84BUG%2F</url>
    <content type="text"><![CDATA[在刚开始做PHP项目开发的时候，总会碰到一些神奇的BUG，这些BUG经过多次调试修改依旧存在，以至于我们这种菜鸟刚入门就很绝望。但这“BUG”最终被找到之后却让人哭笑不得，在这里就分享一下一些遇到的有意思的BUG。 程序内打印$username没问题，前台页面却死活不显示。 一般这种情况发生在大概以下的情况：1234567$username = &apos;Anglela&apos;;var_dump($username); //没有发现问问题·········$this-&gt;assign(&apos;username&apos;, $useranme);//然而页面上显示的就是不对 其实在中间某行原本的$username已经被换成了$useranme，有些编辑器对于类似于useranme,proflie这种单词手误拼写并没有提示，加上PHP配置上忽略了Notice，对于某些新手来讲，可能要找十几分钟甚至更久才找出问题所在。不过，这种问题对于英语还可以，用了智能IDE和php.ini配置合理的同学，基本上不会遇到，偶尔遇到基本也会轻松解决。 文件上传到服务器之后不生效。 当修改了某个文件后，在本地测试没有任何问题，传到服务器上却死活不生效。清除缓存、各种var_dump, dump, dd()最终还是没有找到问题所在，然后恍然大悟，MD，传错文件了/文件夹对应错了/传到了测试服务器！其实，这个问题大概率会发生在一个人同时做多个项目（打开多个FTP），修改完代码就往服务器传的情况下。这种情况就体现出代码部署规范的好处了，但往往中小型外包公司并没有严格的代码部署规范。 if判断的时候得到了意外的结果。 大致会是以下操作：12345if ($var = 2) &#123; echo &apos;走了if&apos;; &#125; else &#123; echo &apos;走了else&apos;;&#125; 以上代码加了空格，可能一眼就能看出来if里面是=而不是==，这种情况一般比较少见，但也偶尔会碰到新手遇到这个问题，蛮有意思的。 以上问题基本都是因为自己的马虎或者规范问题导致的一些令人尴尬的“BUG”。不过对于PHP开发新手来讲，初期也可能因为对PHP语言了解的太少会触发很多意外的BUG。例如： 比较两个浮点数之后发现总是得不到自己想要的结果。这个踩过一次坑或者在学习的时候认真看资料了基本上是不会遇到的。但实际上还是有很多新手不知道该用bcmath之类来进行比较。 用try catch执行事务的时候发现走了try之后依旧会走catch，这个在ThinkPHP5.* 版本框架中见过几个人问过同样的问题，是因为大多在try中最后使用了TP自带的return $this-&gt;success(&#39;xxx&#39;);代码，然而这个success是继承的Exception，当然会被catch了。 类似的BUG在很多新手或者初级开发者身上时有发生，避免出现这些令人尴尬的BUG，最好的解决办法就是掌握好PHP的基础知识，从一开始做好代码规范（例如PSR-2）和开发规范，配合现在的强大IDE（例如PhpStorm之类的），基本可以避免以上绝大多数问题。]]></content>
      <categories>
        <category>PHP</category>
      </categories>
      <tags>
        <tag>编程</tag>
        <tag>BUG</tag>
        <tag>程序员</tag>
        <tag>错误</tag>
      </tags>
  </entry>
</search>
